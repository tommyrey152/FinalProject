<!-- cart/templates/cart/detail.html -->

{% extends 'base.html' %}
{% load static %}

{% block content %}
  <h1>Shopping Cart</h1>
  <table>
    <thead>
      <tr>
        <th>Product</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
      {% for item in cart %}
        <tr>
          <td>{{ item.product }}</td>
          <td>{{ item.quantity }}</td>
          <td>${{ item.product.price }}</td>
          <td>${{ item.quantity|floatformat:"2" }}</td>
        </tr>
      {% endfor %}
      <tr>
        <td colspan="3" style="text-align: right;"><strong>Total:</strong></td>
        <td>${{ cart|length }}</td>
      </tr>
    </tbody>
  </table>
  
  <form action="{% url 'cart:checkout' %}" method="post">
    {% csrf_token %}
    <button type="submit">Checkout</button>
  </form>

{% endblock %}
